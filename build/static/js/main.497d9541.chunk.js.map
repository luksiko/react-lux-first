{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","resultExpenses","resultIncome","totalBalance","className","HistoryItem","transaction","delTransaction","add","description","amount","onClick","id","History","transactions","map","item","key","Operation","addTransaction","addDescription","addAmount","type","placeholder","onChange","value","App","state","JSON","parse","localStorage","getItem","Date","toString","setState","getTotalBalance","e","target","getIncoeme","reduce","acc","getExpenses","filter","this","addStorage","setItem","stringify","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.497d9541.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Total = ({ resultExpenses, resultIncome, totalBalance }) => {\r\n\r\n\treturn (\r\n\t\t<section className='total'>\r\n\t\t\t<header className='total__header'>\r\n\t\t\t\t<h3>Баланс</h3>\r\n\t\t\t\t<p className='total__balance'>{totalBalance} ₽</p>\r\n\t\t\t</header>\r\n\t\t\t<div className='total__main'>\r\n\t\t\t\t<div className='total__main-item total__income'>\r\n\t\t\t\t\t<h4>Доходы</h4>\r\n\t\t\t\t\t<p className='total__money total__money-income'>+{resultIncome} ₽</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='total__main-item total__expenses'>\r\n\t\t\t\t\t<h4>Расходы</h4>\r\n\t\t\t\t\t<p className='total__money total__money-expenses'>-{resultExpenses} ₽</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\nexport default Total;\r\n","import React from 'react';\r\n\r\nconst HistoryItem = ({ transaction, delTransaction }) => (\r\n\t<li\r\n\t\tclassName={`history__item history__item-\r\n   history__item-${transaction.add ? 'plus' : 'minus'}`}\r\n\t>\r\n\t\t{transaction.description}\r\n\t\t<span className='history__money'>{transaction.amount} ₽</span>\r\n\t\t<button className='history__delete'\r\n\t\t\tonClick={() => delTransaction(transaction.id)}>\r\n\t\t\tx\r\n\t\t</button>\r\n\t</li>\r\n);\r\n\r\nexport default HistoryItem;\r\n","import React from 'react';\r\nimport HistoryItem from './HistoryItem';\r\n\r\n\r\nconst History = ({ transactions, delTransaction }) => {\r\n\treturn (\r\n\t\t<section className='history'>\r\n\t\t\t<h3>История расходов</h3>\r\n\t\t\t<ul className='history__list'>\r\n\t\t\t\t{transactions.map(item => \r\n\t\t\t\t\t<HistoryItem\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttransaction={item}\r\n\t\t\t\t\t\tdelTransaction={delTransaction}\r\n\t\t\t\t\t/>)}\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default History;","import React from 'react';\r\n\r\nconst Operation = ({ addTransaction, addDescription, addAmount, description, amount }) => {\r\n\treturn (\r\n\t\t<section className='operation'>\r\n\t\t\t<h3>Новая операция</h3>\r\n\t\t\t<form id='form'>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tclassName='operation__fields operation__name'\r\n\t\t\t\t\t\tplaceholder='Наименование операции'\r\n\t\t\t\t\t\tonChange={addDescription}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\tclassName='operation__fields operation__amount'\r\n\t\t\t\t\t\tplaceholder='Введите сумму'\r\n\t\t\t\t\t\tonChange={addAmount}\r\n\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='operation__btns'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => addTransaction(false)}\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='operation__btn operation__btn-subtract'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tРАСХОД\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => addTransaction(true)}\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='operation__btn operation__btn-add'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tДОХОД\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</section>\r\n\t);\r\n};\r\nexport default Operation;\r\n","import React, { Component } from 'react';\nimport Total from './components/total/Total';\nimport History from './components/history/History';\nimport Operation from './components/operation/Operation';\n\nclass App extends Component {\n\t// формируем состояние в котором храним данные.\n\tstate = {\n\t\ttransactions: JSON.parse(localStorage.getItem('caclMoney')) || [],\n\t\tdescription: '',\n\t\tamount: '',\n\t\tresultIncome: 0,\n\t\tresultExpenses: 0,\n\t\ttotalBalance: 0,\n\t};\n\t// перед тем как смонтировать наш компонент на страницу нужно посчитать totalBalance из localStorage\n\tcomponentWillMount() {\n\t\tthis.getTotalBalance();\n\t}\n\tcomponentDidUpdate() {\n\t\t// this.getTotalBalance();\n\t\tthis.addStorage();\n\t}\n\n\taddTransaction = (add) => {\n\t\tconst transactions = [\n\t\t\t...this.state.transactions,\n\t\t\t{\n\t\t\t\tid: `cmr${(+new Date()).toString(16)}`,\n\t\t\t\tdescription: this.state.description,\n\t\t\t\tamount: this.state.amount,\n\t\t\t\tadd,\n\t\t\t},\n\t\t];\n\n\t\tthis.setState({\n\t\t\ttransactions,\n\t\t\tdescription: '', // обновляем состояние полей на пустое\n\t\t\tamount: '', // обновляем состояние полей на пустое\n\t\t}, this.getTotalBalance);\n\t};\n\n\taddAmount = (e) => this.setState({ amount: e.target.value });\n\n\taddDescription = (e) => this.setState({ description: e.target.value });\n\n\tgetTotalBalance() {\n\t\tconst resultIncome = this.getIncoeme();\n\t\tconst resultExpenses = this.getExpenses();\n\n\t\tconst totalBalance = resultIncome - resultExpenses;\n\n\t\tthis.setState({\n\t\t\tresultIncome,\n\t\t\tresultExpenses,\n\t\t\ttotalBalance,\n\t\t});\n\t}\n\taddStorage() {\n\t\tlocalStorage.setItem('caclMoney', JSON.stringify(this.state.transactions));\n\t}\n\n\tgetIncoeme = () =>\n\t\tthis.state.transactions.reduce((acc, item) => (item.add ? +item.amount + acc : acc), 0);\n\n\tgetExpenses = () =>\n\t\tthis.state.transactions.reduce((acc, item) => (!item.add ? +item.amount + acc : acc), 0);\n\n\tdelTransaction = (key) => {\n\t\tconst transactions = this.state.transactions.filter((item) => item.id !== key);\n\t\tthis.setState({ transactions }, this.getTotalBalance);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<header>\n\t\t\t\t\t<h1>Кошелек</h1>\n\t\t\t\t\t<h2>Калькулятор расходов</h2>\n\t\t\t\t</header>\n\n\t\t\t\t<main>\n\t\t\t\t\t<div className='container'>\n\t\t\t\t\t\t<Total\n\t\t\t\t\t\t\tresultExpenses={this.state.resultExpenses}\n\t\t\t\t\t\t\tresultIncome={this.state.resultIncome}\n\t\t\t\t\t\t\ttotalBalance={this.state.totalBalance}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<History transactions={this.state.transactions} delTransaction={this.delTransaction} />\n\t\t\t\t\t\t<Operation\n\t\t\t\t\t\t\taddTransaction={this.addTransaction}\n\t\t\t\t\t\t\taddAmount={this.addAmount}\n\t\t\t\t\t\t\taddDescription={this.addDescription}\n\t\t\t\t\t\t\tdescription={this.state.description}\n\t\t\t\t\t\t\tamount={this.state.amount} // обновляем состояние полей на пустое\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\nimport './style.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}